<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è: –≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 900px; margin: 0 auto; }
        .screen { display: none; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 20px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .screen.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h1 { font-size: 2.5em; background: linear-gradient(45deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px; text-align: center; }
        input { width: 100%; padding: 15px; margin: 10px 0; border: 2px solid #e1e5e9; border-radius: 12px; font-size: 16px; transition: all 0.3s; }
        input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }

        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px 5px;
            min-width: 140px;
        }
        button:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
        button:active { transform: translateY(0); }

        .progress { background: #e1e5e9; height: 8px; border-radius: 4px; margin: 20px 0; overflow: hidden; }
        .progress-bar { background: linear-gradient(90deg, #4CAF50, #45a049); height: 100%; transition: width 0.4s ease; border-radius: 4px; }

        .question {
            background: white;
            padding: 30px;
            border-radius: 16px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .question h3 { color: #333; margin-bottom: 20px; font-size: 1.3em; }
        .answer {
            display: block; padding: 20px; margin: 15px 0;
            border: 2px solid #e1e5e9; border-radius: 12px;
            cursor: pointer; transition: all 0.3s; font-size: 16px;
        }
        .answer:hover { border-color: #667eea; background: rgba(102, 126, 234, 0.05); transform: translateX(5px); }
        .answer.selected { border-color: #4CAF50; background: rgba(76, 175, 80, 0.1); }
        .answer input { display: none; }

        .result {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 20px 40px rgba(76, 175, 80, 0.3);
        }
        .result h2 { font-size: 2.5em; margin-bottom: 20px; }
        .scores { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 30px 0; }
        .score { background: rgba(255,255,255,0.2); padding: 20px; border-radius: 12px; backdrop-filter: blur(10px); }

        .history-item { background: white; padding: 20px; border-radius: 12px; margin: 15px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .buttons { text-align: center; margin: 30px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div id="nameScreen" class="screen active">
            <h1>üõ†Ô∏è –ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è</h1>
            <p style="text-align:center; color:#666; margin-bottom:30px;">–¢–µ—Å—Ç –Ω–∞ –ø—Ä–æ—Ñ–ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç—å –∫ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ</p>
            <input id="username" placeholder="(–ò–º—è,–§–∞–º–∏–ª–∏—è,–û—Ç—á–µ—Å—Ç–≤–æ)" value="">
            <div class="buttons">
                <button onclick="startTest()">üöÄ –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
            </div>
        </div>
        <div id="test" class="screen">
            <h1>–ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç</h1>
            <div class="progress"><div id="prog" class="progress-bar"></div></div>
            <div id="questions"></div>
            <div class="buttons">
                <button id="prev" onclick="prev()">‚Üê –ù–∞–∑–∞–¥</button>
                <button id="next" onclick="next()">–î–∞–ª–µ–µ ‚Üí</button>
                <button id="finish" onclick="finish()">üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
            </div>
            <button onclick="history()" style="background:#9c27b0;">üìà –ò—Å—Ç–æ—Ä–∏—è</button>
            <button onclick="backToStart()" style="background:#f44336;">üîÑ –ù–æ–≤—ã–π —Ç–µ—Å—Ç</button>
            <button onclick="show('nameScreen')" style="background:#2196f3;">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
            <div id="res"></div>
        </div>
        <div id="hist" class="screen">
            <h1>–ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤</h1>
            <div id="hist-list"></div>
            <div class="buttons">
                <button onclick="show('test')">‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {q: "–ù–∞—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏–∑—É—á–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —ç–ª–µ–∫—Ç—Ä–æ—É—Å—Ç–∞–Ω–æ–≤–æ–∫?", a: ["–°–æ–≤—Å–µ–º –Ω–µ—Ç","–ù–µ–º–Ω–æ–≥–æ","–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ","–û—á–µ–Ω—å —Ö–æ—á—É"], s: [0,1,2,3]},
            {q: "–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Ç–æ–∫ –∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ?", a: ["–°–ª—ã—à–∞–ª","–ü—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–Ω–∏–º–∞—é","–ó–Ω–∞—é —Ç–æ—á–Ω–æ","–ò—Å–ø–æ–ª—å–∑—É—é –≤ –ø—Ä–∞–∫—Ç–∏–∫–µ"], s: [0,1,2,3]},
            {q: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ª–∏ –∏–∑—É—á–∞—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã?", a: ["–ù–µ—Ç","–í–æ–∑–º–æ–∂–Ω–æ","–î–∞","–û—á–µ–Ω—å —Ö–æ—á—É"], s: [0,1,2,3]},
            {q: "–ü–æ–Ω–∏–º–∞–µ—Ç–µ –ª–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É AC –∏ DC?", a: ["–ù–µ—Ç","–°–ª—ã—à–∞–ª","–ó–Ω–∞—é","–†–∞–∑–±–∏—Ä–∞—é—Å—å –≥–ª—É–±–æ–∫–æ"], s: [0,1,2,3]},
            {q: "–•–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤—ã—Å–æ–∫–æ–≤–æ–ª—å—Ç–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º?", a: ["–ù–µ—Ç","–ë–æ—é—Å—å","–í–æ–∑–º–æ–∂–Ω–æ","–î–∞, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ"], s: [0,1,2,3]},
            {q: "–ö–∞–∫–æ–≤—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∏ —Ñ–∏–∑–∏–∫–µ?", a: ["–ù–∏–∑–∫–∏–µ","–°—Ä–µ–¥–Ω–∏–µ","–•–æ—Ä–æ—à–∏–µ","–û—Ç–ª–∏—á–Ω—ã–µ"], s: [0,1,2,3]},
            {q: "–£–º–µ–µ—Ç–µ —Ä–µ—à–∞—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏?", a: ["–ù–µ—Ç","–ü—Ä–æ—Å—Ç–æ","–£–≤–µ—Ä–µ–Ω–Ω–æ","–õ—é–±–ª—é —Å–ª–æ–∂–Ω—ã–µ"], s: [0,1,2,3]},
            {q: "–ó–Ω–∞–∫–æ–º—ã —Å —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏–µ–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º–∏?", a: ["–ù–µ—Ç","–û—Å–Ω–æ–≤—ã","–•–æ—Ä–æ—à–æ","–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ"], s: [0,1,2,3]},
            {q: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã –∑–∞–∫–æ–Ω—ã –ù—å—é—Ç–æ–Ω–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–µ—Ç–∏–∑–º?", a: ["–ù–µ—Ç","–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ","–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ","–û—á–µ–Ω—å"], s: [0,1,2,3]},
            {q: "–£–º–µ–µ—Ç–µ —á–∏—Ç–∞—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã?", a: ["–ù–µ—Ç","–ü—Ä–æ—Å—Ç—ã–µ","–°—Ä–µ–¥–Ω–∏–µ","–õ—é–±—ã–µ —Å–ª–æ–∂–Ω—ã–µ"], s: [0,1,2,3]},
            {q: "–ù—Ä–∞–≤–∏—Ç—Å—è —Ä–∞–∑–±–∏—Ä–∞—Ç—å —Ç–µ—Ö–Ω–∏–∫—É?", a: ["–ù–µ –Ω—Ä–∞–≤–∏—Ç—Å—è","–ò–Ω–æ–≥–¥–∞","–ù—Ä–∞–≤–∏—Ç—Å—è","–õ—é–±–ª—é"], s: [0,1,2,3]},
            {q: "–ì–æ—Ç–æ–≤—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Ä—É–∫–∞–º–∏ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏?", a: ["–ù–µ—Ç","–¢–æ–ª—å–∫–æ –Ω–µ–º–Ω–æ–≥–æ","–î–∞","–õ—é–±–ª—é —Ä–∞–±–æ—Ç–∞—Ç—å —Ä—É–∫–∞–º–∏"], s: [0,1,2,3]},
            {q: "–£–º–µ–µ—Ç–µ –ø–∞—è—Ç—å –∏–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–≤–æ–¥–∞–º–∏?", a: ["–ù–µ—Ç","–ü–æ–ø—Ä–æ–±–æ–≤–∞–ª","–£–º–µ—é","–ú–∞—Å—Ç–µ—Ä"], s: [0,1,2,3]},
            {q: "–ì–æ—Ç–æ–≤—ã —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤—ã—Å–æ—Ç–µ (–õ–≠–ü, –≤—ã—à–∫–∏)?", a: ["–ù–µ—Ç","–í–æ–∑–º–æ–∂–Ω–æ","–î–∞","–õ—é–±–ª—é –≤—ã—Å–æ—Ç—É"], s: [0,1,2,3]},
            {q: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ —Å—Ö–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã?", a: ["–ù–µ—Ç","–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ","–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ","–û—á–µ–Ω—å"], s: [0,1,2,3]},
            {q: "–í–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ö–æ—Ä–æ—à–∏–º –¥–æ—Ö–æ–¥–æ–º?", a: ["–ù–µ—Ç","–ù–µ –æ—Å–æ–±–æ","–î–∞","–û—á–µ–Ω—å –≤–∞–∂–Ω–æ"], s: [0,1,2,3]},
            {q: "–•–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º–æ–π —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–æ–π?", a: ["–ù–µ—Ç","–í–æ–∑–º–æ–∂–Ω–æ","–î–∞","–ú–µ—á—Ç–∞—é"], s: [0,1,2,3]}
        ];

        let current = 0;
        let userAnswers = {};
        let currentUsername = '';

        async function api(endpoint, data) {
            const resp = await fetch(endpoint, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            const result = await resp.json();
            if (!resp.ok) {
                throw new Error(result.detail || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
            }
            return result;
        }

        function show(screen) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screen).classList.add('active');
        }

        async function startTest() {
            currentUsername = document.getElementById('username').value.trim();
            if (!currentUsername) {
                alert('‚ùå –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –∏–Ω–∏—Ü–∏–∞–ª—ã');
                return;
            }
            show('test');
            current = 0;
            userAnswers = {};
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[current];
            document.getElementById('questions').innerHTML = `
                <div class="question">
                    <h3>${current + 1}/${questions.length}. ${q.q}</h3>
                    ${q.a.map((text, i) => `
                        <div class="answer ${userAnswers[current] === i ? 'selected' : ''}" onclick="select(${current}, ${i})">
                            <span>${text}</span>
                        </div>
                    `).join('')}
                </div>`;
            document.getElementById('prog').style.width = ((current + 1) / questions.length * 100) + '%';
            document.getElementById('prev').style.display = current > 0 ? 'inline-block' : 'none';
            document.getElementById('next').style.display = current < questions.length - 1 ? 'inline-block' : 'none';
            document.getElementById('finish').style.display = current === questions.length - 1 ? 'inline-block' : 'none';
        }

        function select(qIndex, answerIndex) {
            userAnswers[qIndex] = answerIndex;
            renderQuestion();
        }

        function next() { if (current < questions.length - 1) { current++; renderQuestion(); } }
        function prev() { if (current > 0) { current--; renderQuestion(); } }

     let savedOnce = false;

async function finish() {
    const scores = {};
    questions.forEach((q, i) => {
        scores[`q${i}`] = userAnswers[i] !== undefined ? q.s[userAnswers[i]] : 0;
    });

    const energy = (scores.q0 || 0) + (scores.q1 || 0) + (scores.q2 || 0) + (scores.q3 || 0) + (scores.q4 || 0);
    const math = (scores.q5 || 0) + (scores.q6 || 0) + (scores.q7 || 0) + (scores.q8 || 0) + (scores.q9 || 0);
    const tech = (scores.q10 || 0) + (scores.q11 || 0) + (scores.q12 || 0) + (scores.q13 || 0) + (scores.q14 || 0);
    const career = (scores.q15 || 0) + (scores.q16 || 0);

    let profile = "üîç –î—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏";
    let recommendation = "";

    if (energy >= 10 && math >= 10) {
        profile = "‚ö° –ò–Ω–∂–µ–Ω–µ—Ä-—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫";
        recommendation = "–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —ç–ª–µ–∫—Ç—Ä–æ—É—Å—Ç–∞–Ω–æ–≤–æ–∫";
    } else if (energy >= 8 && math >= 8) {
        profile = "üîå –≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫";
        recommendation = "–†–∞–±–æ—Ç–∞ —Å —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º, —Å—Ö–µ–º–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–æ–π";
    } else if (tech >= 10) {
        profile = "üîß –≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–µ—Ä";
        recommendation = "–ú–æ–Ω—Ç–∞–∂, —Ä–µ–º–æ–Ω—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ—Å–µ—Ç–µ–π";
    } else if (tech >= 8 && energy >= 6) {
        profile = "üõ†Ô∏è –≠–ª–µ–∫—Ç—Ä–æ—Å–ª–µ—Å–∞—Ä—å";
        recommendation = "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ —Å —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º";
    } else if (career >= 3) {
        profile = "üíº –ú–µ–Ω–µ–¥–∂–µ—Ä –≤ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ";
        recommendation = "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç, –ø—Ä–æ–¥–∞–∂–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤";
    }

    document.getElementById('res').innerHTML = `
        <div class="result">
            <h2>${profile}</h2>
            <p style="font-size: 1.2em; margin-bottom: 20px;">${recommendation}</p>
            <div class="scores">
                <div class="score">
                    <div style="font-size:3em;">‚ö°</div>
                    –≠–Ω–µ—Ä–≥–∏—è<br><strong>${energy}/15</strong>
                </div>
                <div class="score">
                    <div style="font-size:3em;">üìê</div>
                    –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞<br><strong>${math}/15</strong>
                </div>
                <div class="score">
                    <div style="font-size:3em;">üî©</div>
                    –¢–µ—Ö–Ω–∏–∫–∞<br><strong>${tech}/15</strong>
                </div>
                <div class="score">
                    <div style="font-size:3em;">üíº</div>
                    –ö–∞—Ä—å–µ—Ä–∞<br><strong>${career}/6</strong>
                </div>
            </div>
        </div>`;

    if (savedOnce) {
        return; // –≤—Ç–æ—Ä–æ–π –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–ª–∏–∫–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –±–µ–∑ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
    }

    try {
        await api('/api/submit', {username: currentUsername, scores, profile, energy, math, tech, career});
        savedOnce = true;
    } catch(e) {
        console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
    }
}


        async function history() {
            if (!currentUsername) {
                alert('üëÜ –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç');
                return;
            }
            try {
                const response = await fetch(`/api/results?username=${encodeURIComponent(currentUsername)}`);
                const data = await response.json();
                document.getElementById('hist-list').innerHTML = data.results.length ?
                    data.results.map(r => `
                        <div class="history-item">
                            <strong>${r.profile}</strong><br>
                            <small>${r.date}</small><br>
                            <div style="font-size: 1.1em; margin-top: 10px;">
                                ‚ö°${r.energy}/15 üìê${r.math}/15 üî©${r.tech}/15 üíº${r.career}/6
                            </div>
                        </div>
                    `).join('') :
                    '<div class="history-item">üìù –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</div>';
                show('hist');
            } catch(e) {
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏: ' + e.message);
            }
        }

        function backToStart() {
            show('test');
            document.getElementById('username').value = '';
            current = 0;
            userAnswers = {};
            renderQuestion();
        }

        document.addEventListener('keydown', e => {
            if (e.key === 'Enter' && document.getElementById('nameScreen').classList.contains('active')) {
                startTest();
            }
        });
    </script>
</body>
</html>
